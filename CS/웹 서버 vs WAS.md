# 웹 서버 vs WAS

★ 어떤 타입의 컨텐츠를 제공하는 지의 차이

`공통점` : 각각 독립적으로 존재 가능

- ### 웹 서버

  **정적인** 컨텐츠(html, css, js)를 제공하는 서버

  - ex) Apache, Nginx

- ### WAS(Web Application Server)

  DB 조회나, 어떤 로직을 처리해야 하는 **동적인** 컨텐츠를 제공하는 서버

  - 대부분의 WAS는 정적인 컨텐츠를 제공해주고 있기 때문에 웹 서버 없이 WAS만 존재 가능
  - ex) Tomcat, Jeus

---

## 웹 서버 사용 이유?

1. WAS가 해야할 일의 부담을 줄이기 위해서

   WAS 앞에 웹 서버를 두어 

   - 웹 서버에서 정적인 문서만 처리
   - WAS는 어플리케이션의 로직만 수행

   기능을 분해하여 서버의 부담을 줄일 수 있다.

2. WAS의 환경설정 파일을 외부에 노출시키지 않도록 하기 위해서

   클라이언트와 연결하는 포트가 직접 WAS에 연결되어 있다면 중요한 설정 파일들이 노출될 수 있기에 웹 서버를 앞단에 배치시킨다.

   →  웹 서버와 WAS에 접근하는 포트가 다르기 때문에 WAS에 들어오는 포트에는 방화벽을 통해 보안을 강화할 수 있다.



---

### 참고) Apache

- CGI(Common Gateway Interface) 제공

  - CGI 

    인터페이스로서 웹 서버 상에서 프로그램을 동작시키기 위한 방법을 정의한 프로그램(스크립트)

    → PHP, Perl, Python 등의 언어들은 CGI를 구현해 놓았기 때문에 아파치에서 다양한 언어로 짜여진 각 프로그램을 실행할 수 있다.

- ex) 아파치에 PHP 모듈을 설치했을 경우

  요청이 왔을 때 아파치는 HTTP 헤더를 분석하고 파싱하여 PHP로 파라미터를 넘겨준다.

  php는 파라미터를 받아 응답할 HTML 문서를 만들어 아파치에 전달한다.

  HTML 문서를 받은 아파치는 CSS, JS, img 등 정적인 자원들과 함께 브라우저로 반환된다.

